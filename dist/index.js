!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.simplewheels={})}(this,function(e){"use strict";var t={animateType:{linear:function(e,t,n,i){return n*e/i+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t}},defaultOpts:{from:0,to:1e3,during:300,type:"easeInQuad",callback:function(){}},extend:function(e){this.animateType=Object.assign({},this.animateType,e)},play:function(d){var c=this;return new Promise(function(n){var e=Object.assign({},c.defaultOpts,d),i=e.to,o=e.from,r=e.type,t=e.during,a=e.callback,s=Math.ceil(t/16.7);window.requestAnimationFrame||(window.requestAnimationFrame=function(e){setTimeout(e,16.7)});var l=0;!function e(){var t=c.animateType[r](l,o,i-o,s);a(t),++l<=s?window.requestAnimationFrame(e):n()}()})}};function n(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}n(".page-container {\n  width: 100%;\n  list-style: none;\n  font-size: 0;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.page-container .page-li {\n  display: inline-block;\n  font-size: 15px;\n  box-sizing: inherit;\n  border: 1px solid #eaeaea;\n  min-width: 32px;\n  height: 32px;\n  line-height: 32px;\n  margin-left: 5px;\n  cursor: pointer;\n  text-align: center;\n}\n.page-container .page-li.page-li-active {\n  background: #2d8cf0;\n  border-color: #2d8cf0;\n  color: #ffffff;\n}\n.page-container .page-prev,\n.page-container .page-next {\n  padding: 0 5px;\n  margin-left: 0;\n}\n.page-container .page-prev.disable,\n.page-container .page-next.disable {\n  color: #c6c6c6;\n}\n.page-container .page-next {\n  margin-left: 5px;\n}\n.page-container .page-ellipsis {\n  border: none;\n  cursor: default;\n}\n");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=Object.assign?Object.assign:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},c=function(e){return e.children&&0!==e.children.length},r=function(){function n(e,t){o(this,n);this.totalPage=e,this.currentPage=1,this.opts=s({},{baseNode:null,pageControl:2,containerCN:"page-container",listCN:"page-li",activeListCN:"page-li-active",prevBtnCN:"page-prev",nextBtnCN:"page-next",disableBtnCN:"disable",pageNumCN:"page-number",preText:"上一页",nextText:"下一页"},t),this.domRefs={},this.clickHandle=null,this.checkBaseNode().render().bindEvent()}return a(n,[{key:"checkBaseNode",value:function(){if(!this.opts.baseNode)throw new Error("BaseNode is required");if(e=this.opts.baseNode,!("function"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":i(e))&&1===e.nodeType&&"string"==typeof e.nodeName))throw new Error("BaseNode must a HTMLElement");var e;return this}},{key:"render",value:function(){var e=this.opts,t=e.baseNode,n=e.containerCN,i=this.totalPage,o=this.currentPage;this.domRefs.containerNode=document.createElement("ul"),this.domRefs.containerNode.className=n;var r=this.showPages(o,i);return this.domRefs.containerNode.innerHTML=r,t.appendChild(this.domRefs.containerNode),this}},{key:"bindEvent",value:function(){var o=this,e=this.opts,r=e.prevBtnCN,a=e.nextBtnCN;return this.clickHandle=function(e){var t=e||window.event,n=t.target||t.srcElement;if(n.dataset.page){var i=n.dataset.page;o.goToPage(i)}else n.classList&&(n.classList.contains(r)&&o.goToPage(o.currentPage-1),n.classList.contains(a)&&o.goToPage(o.currentPage+1))},this.domRefs.containerNode.addEventListener("click",this.clickHandle,!1),this}},{key:"goToPage",value:function(e){var t=+e,n=this.totalPage;if(!(t===this.currentPage||n<t||t<1)){this.currentPage=t,this.opts.baseNode.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}}));var i=this.domRefs.containerNode,o=this.showPages(this.currentPage,n);i.innerHTML="",i.innerHTML=o}}},{key:"showPages",value:function(e,t){for(var n=this.opts,i=n.listCN,o=n.activeListCN,r=n.prevBtnCN,a=n.nextBtnCN,s=n.disableBtnCN,l=n.pageNumCN,d=n.preText,c=n.nextText,p=n.pageControl,A="<li class='"+i+" "+l+" "+o+"' data-page='"+e+"'>"+e+"</li>",f=1;f<=p;f++)1<e-f&&(A="<li class='"+i+" "+l+"' data-page='"+(e-f)+"'>"+(e-f)+"</li>"+A),e+f<t&&(A=A+"<li class='"+i+" "+l+"' data-page='"+(e+f)+"'>"+(e+f)+"</li>");return 1<e-(p+1)&&(A='<li class="'+i+' page-ellipsis">...</li>'+A),A=1<e?"<li class='"+i+" "+r+"'>"+d+"</li>\n        <li class='"+i+" "+l+"' data-page='1'>1</li>\n        "+A+"\n        ":"<li class='"+i+" "+r+" "+s+"'>"+d+"</li>"+A+"\n      ",e+(p+1)<t&&(A+='<li class="'+i+' page-ellipsis">...</li>'),A+=e<t?"<li class='"+i+" "+l+"' data-page='"+t+"'>"+t+"</li>\n        <li class='"+i+" "+a+"'>"+c+"</li>\n        ":"<li class='"+i+" "+a+" "+s+"'>"+c+"</li>"}},{key:"destroyed",value:function(){this.domRefs.containerNode.removeEventListener("click",this.clickHandle,!1),this.opts.baseNode.removeChild(this.domRefs.containerNode),this.clickHandle=null}}]),n}();r.version="1.0";var l=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(o(this,i),this.running=!1,this.time=t,this.immediate=n,e){if("function"!=typeof e)throw new Error("参数1 必须是个函数");this.callback=e}else this.callback=null;this.timer=null}return a(i,[{key:"start",value:function(){var t=this;this.immediate&&this.callback(),this.running=!0;return function e(){t.timer=setTimeout(function(){return t.running?(t.callback(),e()):null},t.time)}(),this}},{key:"cancel",value:function(){this.running=!1,this.timer&&clearTimeout(this.timer),this.timer=null}}]),i}();n("@font-face {\n  font-family: \"iconfont\";\n  src: url('iconfont.eot?t=1523953995887');\n  /* IE9*/\n  src: url('iconfont.eot?t=1523953995887#iefix') format('embedded-opentype'), /* IE6-IE8 */ url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'), url('iconfont.ttf?t=1523953995887') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/ url('iconfont.svg?t=1523953995887#iconfont') format('svg');\n  /* iOS 4.1- */\n}\n.iconfont {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-angle-right:before {\n  content: \"\\e790\";\n}\n.icon-angle-down:before {\n  content: \"\\e791\";\n}\n.icon-wd:before {\n  content: \"\\e66a\";\n}\n.simple-tree.tree-wrapper {\n  width: 100%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.simple-tree.tree-wrapper ul {\n  list-style: none;\n}\n.simple-tree.tree-wrapper .tree-node .tree-group {\n  transition: height 0.3s ease;\n  overflow: hidden;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content {\n  line-height: 36px;\n  height: 36px;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content:hover {\n  background: #e4e8f1;\n  cursor: pointer;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content .tree-node-title {\n  padding-left: 3px;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content.active .tree-node-title {\n  font-style: italic;\n  font-weight: bold;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content.active {\n  background: #0489e0;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content .tree-node-icon.icon-angle {\n  display: inline-block;\n  cursor: pointer;\n  width: 0;\n  height: 0;\n  margin-left: 6px;\n  margin-right: 3px;\n  border: 5px solid transparent;\n  border-right-width: 0;\n  border-left-color: #000;\n  border-left-width: 7px;\n  -webkit-transform: rotate(0);\n          transform: rotate(0);\n  transition: -webkit-transform 0.3s ease;\n  transition: transform 0.3s ease;\n  transition: transform 0.3s ease, -webkit-transform 0.3s ease;\n}\n.simple-tree.tree-wrapper .tree-node .tree-node-content .tree-node-icon.icon-angle.down {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n");var p=function(){function r(e){o(this,r);var t={baseNode:null,paddingLeft:16,animateSpeed:"normal",treeData:[],frontIconClassName:null,dblclick:null,click:null,createTreeNodeContent:null,templates:{treeWrapper:'<div class="simple-tree tree-wrapper"></div>',treeBaseNode:'<ul class="tree-base-node"></ul>',treeNode:'<li class="tree-node"></li>',treeGroup:'<ul class="tree-group"></ul>',treeNodeContent:'<div class="tree-node-content"></div>'}};this.opts=s({},t,e),this.domRefs={},this.activeItem=null,this.domRefs.treeNodeContents=[],this.initDom().initState().bindEvent().appendBaseNode()}return a(r,[{key:"initDom",value:function(){if(!(this.opts.treeData instanceof Array))throw new TypeError("treeData must be an Array!");return this.domRefs.treeWrapper=d(this.opts.templates.treeWrapper),this.domRefs.treeBaseNode=d(this.opts.templates.treeBaseNode),this.initTree(this.domRefs.treeWrapper,this.domRefs.treeBaseNode,this.opts.treeData),this}},{key:"initTree",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=void 0,r=void 0;0===n.length&&e.appendChild(t);for(var a=0,s=n.length;a<s;a++)if(o=d(this.opts.templates.treeNode),r=d(this.opts.templates.treeNodeContent),this.opts.frontIconClassName?r.innerHTML='<span class="tree-node-icon"></span><span class="tree-node-title">'+n[a].title+"</span>":r.innerHTML='<span class="tree-node-title">'+n[a].title+"</span>",r.style.paddingLeft=i*this.opts.paddingLeft+"px",r.$$nodeData=n[a],this.domRefs.treeNodeContents.push(r),o.appendChild(r),t.appendChild(o),e.appendChild(t),c(n[a])){var l=d(this.opts.templates.treeGroup);this.initTree(o,l,n[a].children,i+1)}}},{key:"initState",value:function(){for(var i=this.domRefs.treeNodeContents,e=this.opts,o=e.createTreeNodeContent,r=e.frontIconClassName,t=function(t,e){var n=i[t].$$nodeData;c(n)?(i[t].setAttribute("role","folder"),i[t].firstChild.classList.add("icon-angle"),!0===n.expand?(i[t].firstChild.classList.add("down"),i[t].setAttribute("expand",!0)):i[t].nextElementSibling.style.display="none"):r.split(" ").forEach(function(e){i[t].firstChild.classList.add(e)}),o&&o(i[t],n)},n=0,a=i.length;n<a;n++)t(n);return this}},{key:"appendBaseNode",value:function(){this.opts.baseNode.appendChild(this.domRefs.treeWrapper)}},{key:"bindEvent",value:function(){var o=this;return this.clickHandle=function(e){var t=e||window.event,n=t.target||t.srcElement,i="div"===n.tagName.toLowerCase()?n:n.parentNode;i.hasAttribute("role")?r.toggleExpand(i):o.opts.click&&(o.toggleActive(i),o.opts.click(t,i.$$nodeData))},this.dblclickHandle=function(e){var t=e||window.event,n=t.target||t.srcElement,i="div"===n.tagName.toLowerCase()?n:n.parentNode;i.hasAttribute("role")||o.opts.dblclick&&(o.toggleActive(i),o.opts.dblclick(t,i.$$nodeData))},this.domRefs.treeWrapper.addEventListener("click",this.clickHandle,!1),this.opts.dblclick&&this.domRefs.treeWrapper.addEventListener("dblclick",this.dblclickHandle,!1),this}},{key:"toggleActive",value:function(e){this.activeItem&&this.activeItem.classList&&this.activeItem.classList.remove("active"),e.classList.add("active"),this.activeItem=e}},{key:"removeEvent",value:function(){this.domRefs.treeWrapper.removeEventListener("click",this.clickHandle,!1),this.domRefs.treeWrapper.removeEventListener("dblclick",this.dblclickHandle,!1),this.clickHandle=null,this.dblclickHandle=null}},{key:"getActiveItem",value:function(){return this.activeItem?this.activeItem:null}},{key:"destroyed",value:function(){for(var e=this.domRefs.treeNodeContents.length;e--;)this.domRefs.treeNodeContents[e]=null;this.removeEvent(),this.domRefs.treeWrapper=null,this.opts.baseNode.removeChild(this.opts.baseNode.children[0])}}],[{key:"toggleExpand",value:function(e){"true"===e.getAttribute("expand")?(e.firstChild.classList.remove("down"),e.setAttribute("expand",!1)):(e.firstChild.classList.add("down"),e.setAttribute("expand",!0)),this.slideAnimate(e)}},{key:"slideAnimate",value:function(e){var t=e.nextElementSibling;if(t.$$transitionendHandle||(t.$$transitionendHandle=this.transitionendHandle.bind(this,t),t.addEventListener("transitionend",t.$$transitionendHandle,!1)),"true"===e.getAttribute("expand")){t.style.display="",t.style.height="";var n=t.offsetHeight;t.style.height="0",setTimeout(function(){t.style.height=n+"px"},0)}else{var i=t.offsetHeight;t.style.height=i+"px",setTimeout(function(){t.style.height="0"},0)}}},{key:"transitionendHandle",value:function(e){"0px"!==e.style.height?e.style.height="":e.style.display="none",e.removeEventListener("transitionend",e.$$transitionendHandle),e.$$transitionendHandle=null,delete e.$$transitionendHandle}}]),r}();p.version="2.0.0",e.simpleAnimate=t,e.simplePagination=r,e.simplePollingAction=l,e.simpleTree=p,Object.defineProperty(e,"__esModule",{value:!0})});
