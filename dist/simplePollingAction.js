!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.simplePollingAction=t()}(this,function(){"use strict";var n=function(){function i(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,t,e){return t&&i(n.prototype,t),e&&i(n,e),n}}();return function(){function i(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.running=!1,this.time=t,this.immediate=e,n){if("function"!=typeof n)throw new Error("参数1 必须是个函数");this.callback=n}else this.callback=null;this.timer=null}return n(i,[{key:"start",value:function(){var t=this;this.immediate&&this.callback(),this.running=!0;return function n(){t.timer=setTimeout(function(){return t.running?(t.callback(),n()):null},t.time)}(),this}},{key:"cancel",value:function(){this.running=!1,this.timer&&clearTimeout(this.timer),this.timer=null}}]),i}()});
